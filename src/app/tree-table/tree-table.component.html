<div class="sliceContent">
	<button pButton (click)="refreshGridTable()" class="refreshTable" icon="pi pi-refresh" iconPos="left"></button>
	<mat-checkbox color="primary" (change)="showDeleted(checkDeleted)" class="showDeletedCheckbox"
		[(ngModel)]="checkDeleted" name="isDeleted">
		{{'TAB_MENU.SHOW_DELETED' | translate}}</mat-checkbox>
</div>
<div style="height: 5px; width: 100%; background: transparent">
	<div *ngIf="loader" class="loader">
		<div class="bar"></div>
	</div>
</div>
<p-treeTable [value]="gridData" (onNodeExpand)="onNodeExpand($event)" [lazy]="true" [loading]="loader"
	[showLoader]="false">
	<ng-template pTemplate="colgroup" let-columns>
		<colgroup>
			<col style="width: 40px;">
			<col style="width: 200px;">
			<col style="width: 200px;">
			<col style="width: 200px;">
			<col style="width: 200px;">
			<col style="width: 100px;">
			<col style="width: 200px;">
		</colgroup>
	</ng-template>
	<ng-template pTemplate="header" let-columns>
		<tr class="header">
			<th style="background-color: #DAECF4;"></th>
			<th style="background-color: #DAECF4;" *ngFor="let col of cols">
				{{col.header}}
			</th>
		</tr>
	</ng-template>
	<ng-template pTemplate="body" let-rowNode let-rowData="rowData">
		<tr>
			<td>
				<p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
			</td>
			<td>
				{{rowData.name}}
				<a (click)="openReportsModal(rowData)" class="reportsModalLink" *ngIf="rowNode.level == 2"> <span
						*ngIf="rowData.id">â„–{{rowData.id}}</span> <span *ngIf="rowData.period"> {{'TREE_TABLE.PERIOD' | translate}}
						{{rowData.period}}</span></a>
			</td>
			<td>
				{{rowData.maxRecNum}}
				<!-- <p-button (onClick)="refreshGridTable()" label="{{'TAB_MENU.REFRESH' | translate}}" icon="pi pi-refresh"
					iconPos="left"></p-button> -->
			</td>
			<td>
				{{rowData.completed}}
			</td>
			<td style="text-align: center;">

				<p-button (click)="openOperationSliceModal(rowData)"
					*ngIf="rowData.statusCode == STATUS_CODES.IN_AGREEMENT || rowData.statusCode == STATUS_CODES.APPROVED || rowData.statusCode == STATUS_CODES.PRELIMINARY || rowData.statusCode == STATUS_CODES.DELETED"
					label="{{'TREE_TABLE.SLICE_OPERATION' | translate}}"></p-button>
			</td>
			<td>
				{{rowData.region}}
			</td>
			<td>
				<p-progressBar
					*ngIf="rowData.statusCode == STATUS_CODES.IN_PROCESSING || rowData.statusCode == STATUS_CODES.WAITING_FOR_PROCESSING"
					[value]="rowData.percentComplete">
				</p-progressBar>
			</td>
		</tr>
	</ng-template>
</p-treeTable>